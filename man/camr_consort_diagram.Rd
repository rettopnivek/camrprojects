% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/R16-Visualization_and_reporting.R
\name{camr_consort_diagram}
\alias{camr_consort_diagram}
\title{Generate CONSORT Flow Diagram}
\usage{
camr_consort_diagram(
  total_assessed,
  n_consented,
  n_randomized,
  n_GroupA,
  n_GroupB,
  n_Completed_A,
  n_Completed_B,
  n_rand_pending,
  n_exclusion_1,
  n_pending_consent,
  n_exclusion_3,
  exclusion_reasons_1,
  pending_reasons,
  exclusion_reasons_3,
  withdrawn_a = 0,
  withdrawn_b = 0,
  lost_to_followup_a = 0,
  lost_to_followup_b = 0
)
}
\arguments{
\item{total_assessed}{Total number of individuals assessed for eligibility (integer)}

\item{n_consented}{Number of individuals who provided consent (integer)}

\item{n_randomized}{Number of individuals randomized (integer)}

\item{n_GroupA}{Number allocated to Group A (integer)}

\item{n_GroupB}{Number allocated to Group B (integer)}

\item{n_Completed_A}{Number who completed the study in Group A (integer)}

\item{n_Completed_B}{Number who completed the study in Group B (integer)}

\item{n_rand_pending}{Number pending randomization (integer)}

\item{n_exclusion_1}{Number excluded during screening (integer)}

\item{n_pending_consent}{Number pending consent (integer)}

\item{n_exclusion_3}{Number excluded post-consent (integer)}

\item{exclusion_reasons_1}{Character vector of screening exclusion reasons}

\item{pending_reasons}{Character vector of reasons for pending cases}

\item{exclusion_reasons_3}{Character vector of post-consent exclusion reasons}

\item{withdrawn_a}{Number withdrawn from Group A (default = 0)}

\item{withdrawn_b}{Number withdrawn from Group B (default = 0)}

\item{lost_to_followup_a}{Number lost to follow-up in Group A (default = 0)}

\item{lost_to_followup_b}{Number lost to follow-up in Group B (default = 0)}
}
\value{
A DiagrammeR graph object visualizing the CONSORT flow diagram
}
\description{
Creates a CONSORT-style flow diagram using Graphviz syntax via the DiagrammeR package.
The diagram visually represents the flow of participants through different stages of a study,
including assessment, consent,randomization, group allocation (Group A and Group B),
and completion, with optional boxes for lost to follow-up, and pending cases.
}
\details{
This function generates a standardized CONSORT (Consolidated Standards of Reporting Trials)
diagram commonly used in DSMB reports or project updates to document participant flow.
Key features include:
\itemize{
\item Automatic calculation of active participants in each group
\item Dynamic display of exclusion reasons with bullet points
\item Conditional display of boxes based on participant counts
\item Formatting with consistent styling
}
}
\examples{
# 1) Basic example - no pending cases, no attrition
camr_consort_diagram(
  total_assessed    = 200,
  n_consented       = 170,
  n_randomized      = 150,
  n_GroupA          = 75,
  n_GroupB          = 75,
  n_Completed_A     = 70,
  n_Completed_B     = 75,
  n_rand_pending    = 0,
  n_exclusion_1     = 30,
  n_pending_consent = 0,
  n_exclusion_3     = 20,
  exclusion_reasons_1 = c("Did not meet criteria (n=25)", "Other reasons (n=5)"),
  pending_reasons     = NULL,
  exclusion_reasons_3 = c("Screen fail (n=15)", "Withdrew consent (n=5)&nbsp;&nbsp;&nbsp;") #sometimes adding empty space helps with alignment.
)

# 2) With pending cases only
camr_consort_diagram(
  total_assessed    = 200,
  n_consented       = 150,
  n_randomized      = 130,
  n_GroupA          = 65,
  n_GroupB          = 65,
  n_Completed_A     = 65,
  n_Completed_B     = 65,
  n_rand_pending    = 5,
  n_exclusion_1     = 30,
  n_pending_consent = 20,
  n_exclusion_3     = 20,
  exclusion_reasons_1 = c("Did not meet criteria (n=25)", "Other reasons (n=5)"),
  pending_reasons     = c("Still screening (n=15)", "Pending consent (n=5)&nbsp;&nbsp;&nbsp;"),
  exclusion_reasons_3 = c("Screen fail (n=15)", "Withdrew consent (n=5)&nbsp;&nbsp;&nbsp;")
)

# 3) With attrition only
camr_consort_diagram(
  total_assessed    = 200,
  n_consented       = 170,
  n_randomized      = 150,
  n_GroupA          = 75,
  n_GroupB          = 75,
  n_Completed_A     = 65,
  n_Completed_B     = 70,
  n_rand_pending    = 0,
  n_exclusion_1     = 30,
  n_pending_consent = 0,
  n_exclusion_3     = 20,
  exclusion_reasons_1 = c("Did not meet criteria (n=25)", "Other reasons (n=5)"),
  pending_reasons     = NULL,
  exclusion_reasons_3 = c("Screen fail (n=15)", "Withdrew consent (n=5)&nbsp;&nbsp;&nbsp;"),
  withdrawn_a       = 3,
  withdrawn_b       = 2,
  lost_to_followup_a = 2,
  lost_to_followup_b = 3
)

# 4) Complete example with both pending cases and attrition
camr_consort_diagram(
  total_assessed    = 200,
  n_consented       = 150,
  n_randomized      = 130,
  n_GroupA          = 65,
  n_GroupB          = 65,
  n_Completed_A     = 55,
  n_Completed_B     = 60,
  n_rand_pending    = 5,
  n_exclusion_1     = 30,
  n_pending_consent = 20,
  n_exclusion_3     = 20,
  exclusion_reasons_1 = c("Did not meet criteria (n=25)", "Other reasons (n=5)"),
  pending_reasons     = c("Still screening (n=15)", "Pending consent (n=5)&nbsp;&nbsp;&nbsp;"),
  exclusion_reasons_3 = c("Screen fail (n=15)", "Withdrew consent (n=5)&nbsp;&nbsp;&nbsp;"),
  withdrawn_a       = 3,
  withdrawn_b       = 2,
  lost_to_followup_a = 2,
  lost_to_followup_b = 3
)
}
\seealso{
\code{\link[DiagrammeR]{grViz}} for the underlying graphing function
}
